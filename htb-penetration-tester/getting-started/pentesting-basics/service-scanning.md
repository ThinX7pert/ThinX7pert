# Service Scanning

## Nmap (Network Mappper)

**Nmap** is an open source tool for network exploration security and security auditing. It was designed to rapidly scan large networks, although it works fine against single hosts. Nmap uses raw IP packets in novel ways to determine what hosts are available on the network, what services those hosts are offering, what operating systems they are running, what type of packet filters/firewalls are in use, and dozens of other characteristics.

Let us start with the most basic scan. Suppose that we want to perform a basic scan against a target residing at **10.129.42.253**. To do this, we should type "**nmap 10.129.42.253"** and hit return. We see that the **Nmap** scan was completed very quickly. This because if we don't specify any additional options, Nmap will only scan the **1,000** most common ports by default. The scan output reveals that ports 21, 22, 80, 139, and 445 are available :&#x20;

```bash
$ nmap 10.129.42.253

Starting Nmap 7.80 ( https://nmap.org ) at 2021-02-25 16:07 EST
Nmap scan report for 10.129.42.253
Host is up (0.11s latency).
Not shown: 995 closed ports
PORT    STATE SERVICE
21/tcp  open  ftp
22/tcp  open  ssh
80/tcp  open  http
139/tcp open  netbios-ssn
445/tcp open  microsoft-ds

Nmap done: 1 IP address (1 host up) scanned in 2.19 seconds
```

Under the **PORT** heading, it also tells us that these are TCP ports. By default, Nmap will conduct a TCP scan unless specifically requested to perform a UDP scan.

The **STATE** heading confirms that these ports are **open**. Sometimes we will see other ports listed that have a different state, such as **filtered**. This can happen if a firewall is only allowing access to the ports from specific addresses.

The **SERVICE** heading tells us the service's name is typically mapped to the specific port number. However, the default scan will not tell us what is listening on that port. Until we instruct **Nmap** to interact with the service and attempt to tease out identifying information, it could be another service altogether.

As we gain familiarity, we will notice that several ports are commonly associated with Windows or Linux. Let us run a more advanced **Nmap** scan and gather more information about target device.

We can use the **-sC** parameter to specify that **Nmap** scripts should be used to try and obtain more detailed information. The **-sV** parameter instructs **Nmap** to perform a version scan. The version scan is underpinned by a comprehensive database og over 1,000 services signatures. Finally, -p- tells Nmap that we want to scan all 65,535 TCP ports.
